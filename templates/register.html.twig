{% extends 'base.html.twig' %}

{% block title %}Inscription
{% endblock %}

{% block body %}
	<div class="container mt-5" style="min-height: 70vh;">
		<div class="row justify-content-center">
			<div class="col-md-6">
				<div class="card shadow border-0">
					<div class="card-header bg-primary text-white text-center py-4">
						<h2 class="h4 mb-0">
							<i class="fa-solid fa-user-plus"></i>
							Créer un compte</h2>
					</div>
					<div class="card-body p-4">
						{{ form_start(registrationForm) }}

						<div class="row mb-3">
							<div class="col-md-6">
								{{ form_row(registrationForm.name) }}
							</div>
							<div class="col-md-6">
								{{ form_row(registrationForm.surname) }}
							</div>
						</div>

						<div class="mb-3">
							{{ form_row(registrationForm.email) }}
						</div>

						<div class="mb-4">
							{{ form_label(registrationForm.plainPassword) }}

							<div class="input-group">

								<span class="input-group-text bg-light text-muted">
									<i class="fa-solid fa-lock"></i>
								</span>


								{{ form_widget(registrationForm.plainPassword) }}

								<button class="btn btn-outline-secondary" type="button" id="toggleRegPassword">
									<i class="fa-solid fa-eye"></i>
								</button>
							</div>
							<div class="text-danger small mt-1">
								{{ form_errors(registrationForm.plainPassword) }}
							</div>
						</div>

						<div class="d-grid gap-2">
							<button type="submit" class="btn btn-primary btn-lg">S'inscrire</button>
						</div>
						{{ form_end(registrationForm) }}

						<div class="text-center mt-3">
							<small>Déjà un compte ?
								<a href="{{ path('app_login') }}" class="text-decoration-none fw-bold">Se connecter</a>
							</small>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>
		document.getElementById('toggleRegPassword').addEventListener('click', function (e) {


const passwordInput = document.getElementById('registration_form_plainPassword');

const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
passwordInput.setAttribute('type', type);

const icon = this.querySelector('i');
icon.classList.toggle('fa-eye');
icon.classList.toggle('fa-eye-slash');
});
	</script>
{% endblock %}
